
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Getting started &#8212; Dotmanager 1.9.2_3 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Commandline Interface" href="commandline-interface.html" />
    <link rel="prev" title="Dotmanager Usage" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="step-0-put-your-dotfiles-into-version-control-optional">
<h2>Step 0: Put your dotfiles into version control (optional)<a class="headerlink" href="#step-0-put-your-dotfiles-into-version-control-optional" title="Permalink to this headline">¶</a></h2>
<p>I highly recommend to put all your dotfiles and the profiles that you are going
to write into a version control system like git or svn for obvious reasons. But
this is not required. The only requirement is that you have one directory that
contains all your dotfiles. Subdirectories are ok, just make sure that your
dotfiles are named uniquely.</p>
</div>
<div class="section" id="step-1-installation">
<h2>Step 1: Installation<a class="headerlink" href="#step-1-installation" title="Permalink to this headline">¶</a></h2>
<p>In near future there will be packages for AUR and pip available, as well as a
portable binary. But for now you will have to set up Dotmanager by yourself.</p>
<div class="section" id="step-1a-manual-set-up">
<h3>Step 1a: Manual set up<a class="headerlink" href="#step-1a-manual-set-up" title="Permalink to this headline">¶</a></h3>
<p>First clone the repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/RickestRickSanchez/dotmanager.git
</pre></div>
</div>
<p>Then install dependencies:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install python3
<span class="c1"># if you want to use encryption features</span>
sudo apt-get install python3 gnupg
</pre></div>
</div>
<p>You can run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./dotmanager/test/regressiontest.py
</pre></div>
</div>
<p>to verify that Dotmanager runs correctly on your system.</p>
</div>
</div>
<div class="section" id="step-2-configuration">
<h2>Step 2: Configuration<a class="headerlink" href="#step-2-configuration" title="Permalink to this headline">¶</a></h2>
<p>There are a lot of things that you can configure in Dotmanager but for most of
them the defaults are enough. If you are interested in further configuration,
take a look at &lt;configurationfile&gt;. For the beginning you just have to set the
directory for your dotfiles and for your profiles. To do so, either create a new
file called <code class="docutils literal notranslate"><span class="pre">dotmanager.ini</span></code> or copy the example from <code class="docutils literal notranslate"><span class="pre">docs/config-example.ini</span></code>.</p>
<dl class="simple">
<dt>You can store the configuration file at one of the following places:</dt><dd><ul class="simple">
<li><p>dotmanager/data/dotmanager.ini</p></li>
<li><p>~/.config/dotmanager/dotmanager.ini</p></li>
<li><p>/etc/dotmanager/dotmanager.ini</p></li>
</ul>
</dd>
</dl>
<p>Then set the values <code class="docutils literal notranslate"><span class="pre">targetFiles</span></code> and <code class="docutils literal notranslate"><span class="pre">profileFiles</span></code> in the “Settings” section:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[Settings]</span>
<span class="na">profileFiles</span> <span class="o">=</span> <span class="s">/path/to/your/profiles/</span>
<span class="na">targetFiles</span>  <span class="o">=</span> <span class="s">/path/to/your/dotfiles/</span>
</pre></div>
</div>
</div>
<div class="section" id="step-3-a-first-profile">
<h2>Step 3: A first profile<a class="headerlink" href="#step-3-a-first-profile" title="Permalink to this headline">¶</a></h2>
<p>For a simple test we will create a first profile. So go ahead and create a file
in your profile directory. It doesn’t matter what you name it, as long it ends
on “.py”.
You can copy the following, but replace <code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;</span></code> with a file that exists in
your dotfile directory:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dotmanager.profile</span> <span class="kn">import</span> <span class="n">profile</span>

<span class="k">class</span> <span class="nc">Test1</span><span class="p">(</span><span class="n">Profile</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">generate</span><span class="p">():</span>
        <span class="n">link</span><span class="p">(</span><span class="s2">&quot;&lt;filename&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now installing this profile is easy:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./dotmgr.py -i Test1
<span class="o">[</span>Test1<span class="o">]</span>: Installing new profile
<span class="o">[</span>Test1<span class="o">]</span>: /home/user/&lt;filename&gt; was created and links to /home/user/repos/dotfiles/files/&lt;filename&gt;
Finished succesfully.
</pre></div>
</div>
<p>So <code class="docutils literal notranslate"><span class="pre">link(&quot;&lt;filename&gt;&quot;)</span></code> creates a symlink in your home directory and points
to the file <code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;</span></code> in your repository.</p>
<p>Ok, lets add some more links and install it again:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dotmanager.profile</span> <span class="kn">import</span> <span class="n">profile</span>

<span class="k">class</span> <span class="nc">Test1</span><span class="p">(</span><span class="n">Profile</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">generate</span><span class="p">():</span>
        <span class="n">link</span><span class="p">(</span><span class="s2">&quot;&lt;filename&gt;&quot;</span><span class="p">)</span>

        <span class="n">cd</span><span class="p">(</span><span class="s2">&quot;.config&quot;</span><span class="p">)</span>
        <span class="n">link</span><span class="p">(</span><span class="s2">&quot;&lt;filename2&gt;&quot;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="n">link</span><span class="p">(</span><span class="s2">&quot;&lt;filename3&gt;&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;someothername.conf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Of course <code class="docutils literal notranslate"><span class="pre">link()</span></code> isn’t the only command that you can use. The <code class="docutils literal notranslate"><span class="pre">cd()</span></code>
command let’s you switch the directory in which the links will be created. So
instead creating links in your home directory, all further calls of <code class="docutils literal notranslate"><span class="pre">link()</span></code>
will create links in <code class="docutils literal notranslate"><span class="pre">~/.config</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./dotmgr.py -i Test1
<span class="o">[</span>Test1<span class="o">]</span>: Profile updated
<span class="o">[</span>Test1<span class="o">]</span>: /home/user/.config/.&lt;filename2&gt; was created and links to /home/user/repos/dotfiles/files/&lt;filename2&gt;
<span class="o">[</span>Test1<span class="o">]</span>: /home/user/.config/someothername.conf was created and links to /home/user/repos/dotfiles/files/&lt;filename3&gt;
Finished succesfully.
</pre></div>
</div>
<p>As you can see, the profile gets updated now and only the difference to the
previous installed version of the profile is applied. Furthermore you can see
the effect of the options <code class="docutils literal notranslate"><span class="pre">prefix</span></code> and <code class="docutils literal notranslate"><span class="pre">name</span></code> that we passed to <code class="docutils literal notranslate"><span class="pre">link()</span></code>.</p>
</div>
<div class="section" id="step-4-going-further">
<h2>Step 4: Going further<a class="headerlink" href="#step-4-going-further" title="Permalink to this headline">¶</a></h2>
<p>I want to show you two more commands, that provide key techniques of Dotmanager.
To make profiles more reusable you can use the <code class="docutils literal notranslate"><span class="pre">subprof()</span></code> command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dotmanager.profile</span> <span class="kn">import</span> <span class="n">profile</span>

<span class="k">class</span> <span class="nc">Vim</span><span class="p">(</span><span class="n">Profile</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">generate</span><span class="p">():</span>
        <span class="n">link</span><span class="p">(</span><span class="s2">&quot;gvimrc&quot;</span><span class="p">,</span> <span class="s2">&quot;vimrc&quot;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>

        <span class="n">cd</span><span class="p">(</span><span class="s2">&quot;.vim&quot;</span><span class="p">)</span>
        <span class="n">link</span><span class="p">(</span><span class="s2">&quot;keybindings.vim&quot;</span><span class="p">,</span> <span class="s2">&quot;plugin.vim&quot;</span><span class="p">)</span>
        <span class="n">link</span><span class="p">(</span><span class="s2">&quot;python.snippets&quot;</span><span class="p">,</span> <span class="s2">&quot;html.snippets&quot;</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="s2">&quot;UltiSnips&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Shell</span><span class="p">(</span><span class="n">Profile</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">generate</span><span class="p">():</span>
        <span class="n">link</span><span class="p">(</span><span class="s2">&quot;zshrc&quot;</span><span class="p">,</span> <span class="s2">&quot;bashrc&quot;</span><span class="p">,</span> <span class="s2">&quot;inputrc&quot;</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="n">link</span><span class="p">(</span><span class="s2">&quot;zsh_profile&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;.zprofile&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here we have two profiles. The first one collects all configuration files for vim,
the second one for zsh and bash. You can use them in any other profile as a
subprofile:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dotmanager.profile</span> <span class="kn">import</span> <span class="n">profile</span>

<span class="k">class</span> <span class="nc">Test1</span><span class="p">(</span><span class="n">Profile</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">generate</span><span class="p">():</span>
        <span class="n">link</span><span class="p">(</span><span class="s2">&quot;&lt;filename&gt;&quot;</span><span class="p">)</span>

        <span class="n">subprof</span><span class="p">(</span><span class="s2">&quot;Vim&quot;</span><span class="p">,</span> <span class="s2">&quot;Shell&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Installing <code class="docutils literal notranslate"><span class="pre">Test1</span></code> again, results in the following output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./dotmgr.py -i Test1
<span class="o">[</span>Test1<span class="o">]</span>: Profile updated
<span class="o">[</span>Test1<span class="o">]</span>: /home/user/.config/.&lt;filename2&gt; was removed from the system.
<span class="o">[</span>Test1<span class="o">]</span>: /home/user/.config/someothername.conf was removed from the system.
<span class="o">[</span>Vim<span class="o">]</span>: Installing new profile as subprofile of Test1
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.gvimrc was created and links to /home/user/repos/dotfiles/files/gvimrc
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.vimrc was created and links to /home/user/repos/dotfiles/files/vimrc
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.vim/keybindings.vim was created and links to /home/user/repos/dotfiles/files/keybindings.vim
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.vim/plugins.vim was created and links to /home/user/repos/dotfiles/files/plugins.vim
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.vim/UltiSnips/python.snippets was created and links to /home/user/repos/dotfiles/files/python.snippets
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.vim/UltiSnips/html.snippets was created and links to /home/user/repos/dotfiles/files/html.snippets
<span class="o">[</span>Shell<span class="o">]</span>: Installing new profile as subprofile of Test1
<span class="o">[</span>Shell<span class="o">]</span>: /home/user/.zshrc was created and links to /home/user/repos/dotfiles/files/zshrc
<span class="o">[</span>Shell<span class="o">]</span>: /home/user/.bashrc was created and links to /home/user/repos/dotfiles/files/bashrc
<span class="o">[</span>Shell<span class="o">]</span>: /home/user/.inputrc was created and links to /home/user/repos/dotfiles/files/inputrc
<span class="o">[</span>Shell<span class="o">]</span>: /home/user/.zprofile was created and links to /home/user/repos/dotfiles/files/zsh_profile
Finished succesfully.
</pre></div>
</div>
<p>The subprofiles will be updated/removed, whenever you update/remove their
parent profile. This gets useful, when you have multiple devices of which
some use certain programs and some not (or shall not be configured), because
you can enable/disable whole sets of links.</p>
<p>This gets even more powerful in combination with the <code class="docutils literal notranslate"><span class="pre">tags()</span></code> command!
The problem with the above approach is, that programs won’t be configured
the same everywhere. Maybe you want Vim to use a shit load of plugins on
your work station, but only a few when running on a raspberry pi.
Thats were the tagging system comes into play.
You can tag files by prepending a specific tag to their filename. When the tag
is set, the file will be prefered over a untagged file.
We could create for example another dotfile called <code class="docutils literal notranslate"><span class="pre">minimal%plugins.vim</span></code>,
where “minimal” is the tag and the percent sign is a delimiter to indicate that
the filename starts  now.
Our <code class="docutils literal notranslate"><span class="pre">Test1</span></code> profile will create the same links as before, but let’s create a
new profile that will use the new minimal plugins file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pi</span><span class="p">(</span><span class="n">Profile</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">generate</span><span class="p">():</span>
        <span class="n">tags</span><span class="p">(</span><span class="s2">&quot;minimal&quot;</span><span class="p">)</span>
        <span class="n">subprof</span><span class="p">(</span><span class="s2">&quot;Vim&quot;</span><span class="p">,</span> <span class="s2">&quot;Shell&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./dotmgr.py -i Pi
<span class="o">[</span>Pi<span class="o">]</span>: Installing new Profile
<span class="o">[</span>Vim<span class="o">]</span>: Installing new profile as subprofile of Pi
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.gvimrc was created and links to /home/user/repos/dotfiles/files/gvimrc
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.vimrc was created and links to /home/user/repos/dotfiles/files/vimrc
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.vim/keybindings.vim was created and links to /home/user/repos/dotfiles/files/keybindings.vim
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.vim/plugins.vim was created and links to /home/user/repos/dotfiles/files/minimal%plugins.vim
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.vim/UltiSnips/python.snippets was created and links to /home/user/repos/dotfiles/files/python.snippets
<span class="o">[</span>Vim<span class="o">]</span>: /home/user/.vim/UltiSnips/html.snippets was created and links to /home/user/repos/dotfiles/files/html.snippets
<span class="o">[</span>Shell<span class="o">]</span>: Installing new profile as subprofile of Pi
<span class="o">[</span>Shell<span class="o">]</span>: /home/user/.zshrc was created and links to /home/user/repos/dotfiles/files/zshrc
<span class="o">[</span>Shell<span class="o">]</span>: /home/user/.bashrc was created and links to /home/user/repos/dotfiles/files/bashrc
<span class="o">[</span>Shell<span class="o">]</span>: /home/user/.inputrc was created and links to /home/user/repos/dotfiles/files/inputrc
<span class="o">[</span>Shell<span class="o">]</span>: /home/user/.zprofile was created and links to /home/user/repos/dotfiles/files/zsh_profile
Finished succesfully.
</pre></div>
</div>
<p>You can see that the subprofiles behave the same as for <code class="docutils literal notranslate"><span class="pre">Test1</span></code>, but
<code class="docutils literal notranslate"><span class="pre">/home/user/.vim/plugins.vim</span></code> points now to
<code class="docutils literal notranslate"><span class="pre">/home/user/repos/dotfiles/files/minimal%plugins.vim</span></code>. The idea is that
you create profiles for all kind of programs that you wants to configure
and configuration files with different tags that describe properties of the
system they are for, so that in the end you can quickly create a new profile
for a new device, by just picking the programs that are installed and telling
Dotmanager what tags will be applied for the device.</p>
<p>Of course that is just one way to work with tags and just one way to alternate
versions of a dotfile.</p>
<p>For further configuration you should take a look at the other commands and
options. You probably won’t need all of them, but they can solve a lot of
common problems and will shorten your profiles. The documentation also covers a
lot of topics that will help you understanding what is going under the hud, as
well as more advanced examples and troubleshooting.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Dotmanager</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Dotmanager Usage</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="commandline-interface.html">Commandline Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="python-syntax.html">Python explained</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="info-module.html">Info module</a></li>
<li class="toctree-l2"><a class="reference internal" href="encryption.html">Encryption</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamicfiles.html">Dynamicfiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="installed-file.html">Installed files</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-configuration.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="tips.html">Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">For developers</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Dotmanager Usage</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Dotmanager Usage</a></li>
      <li>Next: <a href="commandline-interface.html" title="next chapter">Commandline Interface</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Erik Schulz.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/usage/getting-started.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>